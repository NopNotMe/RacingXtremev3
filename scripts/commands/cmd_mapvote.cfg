cmd_mapvote = [
	check = [0]
	
	cases $arg2 1 [
        if (getvar $arg1 hasmapvoted) [
            pm $arg1 "The ballot is in!"
        ] [
            currentfirstmapvotes = (+ $currentfirstmapvotes 1)
            say (format "^f0%2 ^f7voted for ^f0%1 [%3]" (at $rotationlist (+ $mapnum 1)) (getname $arg1) $currentfirstmapvotes)
            setvar $arg1 hasmapvoted 1
            setvar $arg1 mapvotedfor 1
        ]
	] 2 [
        if (getvar $arg1 hasmapvoted) [
            pm $arg1 "The ballot is in!"
        ] [
            currentsecondmapvotes = (+ $currentsecondmapvotes 1)
            say (format "^f0%2 ^f7voted for ^f0%1 [%3]" (at $rotationlist (+ $mapnum 2)) (getname $arg1) $currentsecondmapvotes)
            setvar $arg1 hasmapvoted 1
            setvar $arg1 mapvotedfor 2
        ]
	] 3 [
		if (getvar $arg1 hasmapvoted) [
            pm $arg1 "The ballot is in!"
        ] [
            currentthirdmapvotes = (+ $currentthirdmapvotes 1)
            say (format "^f0%2 ^f7voted for ^f0%1 [%3]" (at $rotationlist (+ $mapnum 3)) (getname $arg1) $currentthirdmapvotes)
            setvar $arg1 hasmapvoted 1
            setvar $arg1 mapvotedfor 3
        ]
	] () [
		pm $arg1 "^f7Please mapvote 1-3."
	]
]
registercommand "mapvote" cmd_mapvote 0 "|i" "mapvote [1-3]  ^f0Vote ^f7 for the next map"